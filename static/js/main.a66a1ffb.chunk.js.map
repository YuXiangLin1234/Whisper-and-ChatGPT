{"version":3,"sources":["functions/Utils.js","components/Loading.js","components/Chat.js","containers/MessageRoomPage.js","containers/AskKeyPage.js","functions/UseScript.js","App.js","reportWebVitals.js","index.js"],"names":["padTo2Digits","num","toString","padStart","formatDate","date","getMonth","getDate","join","getHours","getMinutes","getSeconds","Loading","_jsxs","className","children","_jsx","Chat","_ref","audio","transcription","text","_useState","useState","_useState2","_slicedToArray","sendTime","setSendTime","_useState3","_useState4","respondTime","setRespondTime","useEffect","Date","style","margin","controls","src","_Fragment","MessageRoomPage","apiKey","audios","setAudios","transcriptions","setTranscriptions","_useState5","_useState6","texts","setTexts","_useState7","_useState8","chats","setChats","_useState9","_useState10","sendAudio","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","blob","headers","formData","response","wrap","_context","prev","next","concat","FormData","append","axios","post","sent","console","log","data","abrupt","stop","_x","apply","arguments","sendText","_x2","_x3","_sendText","_callee3","audioUrl","audioBlob","jsonData","chat","_context3","_toConsumableArray","slice","length","messages","role","content","model","choices","message","t0","addAudioElement","_ref3","_callee2","returnText","_context2","URL","createObjectURL","_x4","marginTop","map","index","position","left","top","transform","background","width","height","borderRadius","boxShadow","display","justifyContent","AudioRecorder","onRecordingComplete","disabled","onClick","name","fontSize","AskKeyPage","setApiKey","inputRef","useRef","type","onKeyDown","event","key","target","value","ref","current","error","useScript","url","integrity","async","undefined","crossOrigin","script","document","createElement","body","appendChild","removeChild","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.a66a1ffb.chunk.js","sourcesContent":["function padTo2Digits(num) {\n  return num.toString().padStart(2, '0');\n}\n\nfunction formatDate(date) {\n  return (\n    [\n    //   date.getFullYear(),\n      padTo2Digits(date.getMonth() + 1),\n      padTo2Digits(date.getDate()),\n    ].join('/') +\n    ' ' +\n    [\n      padTo2Digits(date.getHours()),\n      padTo2Digits(date.getMinutes()),\n      padTo2Digits(date.getSeconds()),\n    ].join(':')\n  );\n}\n\nexport default formatDate;","import '../App.css';\nimport React from \"react\";\n\nconst Loading = () => {\n\treturn (\n\t\t<div className=\"spinner\">\n\t\t\t<div className=\"bounce1\"></div>\n\t\t\t<div className=\"bounce2\"></div>\n\t\t\t<div className=\"bounce3\"></div>\n\t\t</div>\t\t\t\t\t\t\n\t)\n}\n\nexport default Loading;","import '../App.css';\nimport React from \"react\";\nimport { useEffect, useState } from 'react';\n\nimport formatDate from '../functions/Utils';\nimport Loading from './Loading';\n\nconst Chat = ({audio, transcription, text}) => {\n\tconst [sendTime, setSendTime] = useState(\"\");\n\tconst [respondTime, setRespondTime] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst date = new Date();\n\t\tsetSendTime(formatDate(date));\n\t}, [transcription]);\n\t\n\tuseEffect(() => {\n\t\tconst date = new Date();\n\t\tsetRespondTime(formatDate(date));\n\t}, [text])\n\n\treturn (\n\t\t<div style={{margin:\"20px\"}}>\n\t\t\t{/* <div className='msg-inbox'>\n\t\t\t<div className='chats'> */}\n\t\t\t<div className='msg-page'>\n\t\t\t\t<div className=\"sent-chats\">\n\t\t\t\t\t<div className='sent-chats-msg'>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t// Set this to be null to avoid situation that return is empty\n\t\t\t\t\t\taudio !== null\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t<audio controls=\"True\" src={audio}></audio>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Loading/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\ttranscription !== null\n\t\t\t\t\t\t?\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t<p>{transcription}</p>\n\t\t\t\t\t\t<span className=\"chat-time\">{sendTime}</span>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t:\n\t\t\t\t\t\taudio !== null\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t<Loading/>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='sent-chats-img'>\n\t\t\t\t\t\t<img className='chats-img' src=\"old.png\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"received-chats\">\n\t\t\t\t\t{\n\t\t\t\t\ttext !== null\n\t\t\t\t\t?\n\t\t\t\t\t<>\n\t\t\t\t\t<div className='received-chats-img'>\n\t\t\t\t\t\t<img className='chats-img' src=\"chatgpt.png\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='received-msg'>\n\t\t\t\t\t\t<div className='received-msg-inbox'>\n\t\t\t\t\t\t\t<p>{text}</p>\n\t\t\t\t\t\t\t<span className=\"chat-time\">{respondTime}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t\t: \n\t\t\t\t\ttranscription !== null\n\t\t\t\t\t?\n\t\t\t\t\t\t<Loading/>\t\t\t\t\t\n\t\t\t\t\t:\n\t\t\t\t\t\t<></>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t{/* </div>\n\t\t\t</div> */}\n\t\t\t</div>\n\t\t</div>\n\t)\n\n}\n\nexport default Chat;","import '../App.css';\nimport React from \"react\";\nimport { AudioRecorder } from 'react-audio-voice-recorder';\nimport axios from \"axios\";\nimport { useEffect, useState, useRef } from \"react\";\n\nimport Chat from '../components/Chat';\n\nconst MessageRoomPage = ({apiKey}) => {\n\n    const [audios, setAudios] = useState([]);\n    const [transcriptions, setTranscriptions] = useState([]);\n    const [texts, setTexts] = useState([]);\n    const [chats, setChats] = useState([]);\n    const [audioClickAble, setAudioClickAble] = useState(false);\n\n    const sendAudio = async function (blob) {\n        const headers = {\n            \"content-type\": \"multipart/form-data\",\n            //\"Authorization\": `Bearer ${process.env.REACT_APP_OPENAI_API_KEY}`\n            \"Authorization\": `Bearer ${apiKey}`\n        };\n\n        const formData = new FormData();\n        formData.append(\"file\", blob , \"test.mp3\")\n        formData.append(\"model\", \"whisper-1\")\n        const response = await axios.post(\"https://api.openai.com/v1/audio/transcriptions\", formData, { headers })\n        console.log(response)\n        console.log(response.data.text)\n        return response.data.text\n    }\n\n\n    async function sendText(audioUrl, audioBlob) {\n        try {\n            const transcription = await sendAudio(audioBlob);\n\n            console.log(transcription)\n            setTranscriptions([...transcriptions.slice(0, transcriptions.length), transcription]);\n            const headers = {\n              \"content-type\": \"application/json\",\n              \"Authorization\": `Bearer ${apiKey}`\n            //   \"Authorization\": `Bearer ${process.env.REACT_APP_OPENAI_API_KEY}`\n            };\n\n            const jsonData = {messages: [{role:\"user\", content:transcription}], model:\"gpt-3.5-turbo\"}\n            const response = await axios.post(\"https://api.openai.com/v1/chat/completions\", jsonData, { headers })\n            console.log(response)\n            const chat = response.data.choices[0].message.content\n            setChats([...chats, [audioUrl, transcription, chat]])\n            return response.data.choices[0].message.content\n        }\n        catch (error){\n            console.log(error)\n        }\n      \n    }\n\n    const addAudioElement = async function (audioBlob) {\n        const audioUrl = URL.createObjectURL(audioBlob);\n        setAudios([...audios, audioUrl]);\n\n        // enforce the length of three lists are equal\n        setTexts([...texts, null]);\n        setTranscriptions([...transcriptions, null]);\n\n        const returnText = await sendText(audioUrl, audioBlob);\n        setTexts([...texts.slice(0, texts.length), returnText]);\n    };\n\n    const resetConversation = () => {\n        setAudios([]);\n        setChats([]);\n        setTranscriptions([]);\n        setTexts([]);\n    }\n\n    useEffect(() => {\n       console.log(chats)\n    }, [chats]);\n\n    return (\n        <div className=\"App\" style={{marginTop:\"30px\"}}>\n            <div className='msg-container'>\n              {\n              // chats.map((chat, index)=> (\n              //   <Chat key={index} audio={chat[0]} transcription={chat[1]} text={chat[2]}/>\n              // ))\n              audios.map((audio, index)=> (\n                <Chat key={index} audio={audios[index]} transcription={transcriptions[index]} text={texts[index]}/>\n              ))\n              }\n            </div>\n            <div style={{position:\"fixed\",  left: '50%', top: '95%',\n                      transform: 'translate(-50%, -50%)', background:\"#99ccff\", \"maxWidth\":\"750px\", width:\"100%\", height:\"70px\", borderRadius:\"8px\", boxShadow:\"1px 1px\"}}></div>\n            <div style={{position: 'fixed', left: '50%', top: '95%',\n                      transform: 'translate(-50%, -50%)', display:\"flex\", justifyContent: \"space-between\", width: \"300px\"}}>\n                <AudioRecorder onRecordingComplete={addAudioElement}/>\n                <button className='circle-button' disabled={false}  onClick={resetConversation}><ion-icon name=\"trash\" style={{fontSize: \"17px\"}}></ion-icon></button>\n            </div>\n\n        </div>\n    );\n}\n\nexport default MessageRoomPage;\n","import '../App.css';\nimport React from \"react\";\nimport { useRef } from \"react\";\n\nconst AskKeyPage = ({setApiKey}) => {\n\n    const inputRef = useRef();\n    const handleKeyDown = (event) => {\n        console.log(event)\n        if (event.key === \"Enter\"){\n            setApiKey(event.target.value)\n        }\n    }\n    const handleClick = (event) => {\n        try{\n            setApiKey(inputRef.current.value)\n        }\n        catch (error) {\n            console.log(error)\n        }\n    }\n\n    return (\n        <div className=\"App\" style={{marginTop:\"30px\"}}>\n            <h2>Whisper + ChatGPT 術前問診系統</h2>\n            <span>\n                Api Key : <input type=\"text\" onKeyDown={handleKeyDown} ref={inputRef}/>\n            </span>\n            <button onClick={handleClick}>確認</button>\n        </div>\n    );\n}\n\nexport default AskKeyPage;\n","import { useEffect } from \"react\"\n\nconst useScript = (url, integrity, async = true, crossOrigin = \"anonymous\") => {\n  useEffect(() => {\n    const script = document.createElement(\"script\")\n\n    script.src = url\n\n    script.async = async\n\n    if (integrity) {\n      script.integrity = integrity\n    }\n\n    script.crossOrigin = crossOrigin\n\n    document.body.appendChild(script)\n\n    return () => {\n      document.body.removeChild(script)\n    }\n  }, [url, integrity, async, crossOrigin])\n}\n\nexport default useScript","import './App.css';\nimport React from \"react\";\n// import dotenv_defaults from \"dotenv-defaults\";\nimport { useEffect, useState } from \"react\";\n\nimport MessageRoomPage from \"./containers/MessageRoomPage\"\nimport AskKeyPage from './containers/AskKeyPage';\nimport useScript from './functions/UseScript';\n// dotenv_defaults.config();\n\nfunction App() {\n\n    // useScript(\"https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.esm.js\")\n    useScript(\"https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.js\")\n    const [apiKey, setApiKey] = useState(\"\");\n\n    return (\n        <div className=\"App\" style={{marginTop:\"30px\"}}>\n            {apiKey.length\n            ? \n                <MessageRoomPage apiKey = {apiKey}/>\n            :\n                <AskKeyPage setApiKey = {setApiKey}/>\n            }\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}