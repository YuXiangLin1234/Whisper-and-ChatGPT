{"version":3,"sources":["functions/Utils.js","components/Loading.js","components/Chat.js","components/Clinic.js","components/ReportViewer.js","data/ClinicSchedule.js","api/Request.js","containers/MessageRoomPage.js","containers/AskKeyPage.js","functions/UseScript.js","App.js","reportWebVitals.js","index.js"],"names":["padTo2Digits","num","toString","padStart","formatDate","date","getMonth","getDate","join","getHours","getMinutes","getSeconds","disableButton","buttonRef","current","style","cursor","pointerEvents","opacity","enableButton","a","document","createElement","body","appendChild","Loading","_jsxs","className","children","_jsx","Chat","_ref","audio","transcription","translation","chat","_useState","useState","_useState2","_slicedToArray","setTranscriptionTime","_useState3","_useState4","translationTime","setTranslationTime","_useState5","_useState6","chatTime","setChatTime","useEffect","Date","margin","controls","src","_Fragment","marginTop","Clinic","clinic","length","Font","register","family","styles","StyleSheet","create","page","padding","fontSize","fontFamily","display","title","color","fontWeight","paddingBottom","marginBottom","textAlign","letterSpacing","text","lineHeight","ReportViewer","translations","chats","summary","Document","Page","size","View","flexDirection","justifyContent","flexWrap","Text","textLine","lines","split","console","log","i","_lines$i$match","subline","match","j","addNewline","ClinicSchedule","chatgptModel","urlForChatgpt","corsApiKey","urlForWhisper","concat","validateApiKey","_x","_validateApiKey","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","apiKey","headers","jsonData","wrap","_context3","prev","next","messages","model","axios","post","sent","abrupt","t0","stop","validateHfToken","_x2","_validateHfToken","_callee4","hfToken","fakeAudio","blob","_context4","createSilentAudio","Blob","type","response","data","error","checkModelStatus","_x3","_checkModelStatus","_callee5","_context5","status","sendAudioRequest","_ref2","_callee2","_context2","_x6","_x7","sendTranslationRequest","_x8","_x9","_sendTranslationRequest","_callee6","_response2","_translation","_context6","choices","message","content","sendChatRequest","_x10","_x11","_x12","_x13","_sendChatRequest","_callee7","_response3","_chat","_context7","push","sendSummaryRequest","_x14","_x15","_sendSummaryRequest","_callee8","_response4","_chat2","_context8","sendClinicRequest","_x16","_x17","_sendClinicRequest","_callee9","_i","_response5","_chat3","_context9","MessageRoomPage","setApiKey","setHfToken","modelReady","setModelReady","audios","setAudios","transcriptions","setTranscriptions","_useState7","_useState8","setTranslations","_useState9","_useState10","setChats","_useState11","_useState12","setSummary","_useState13","_useState14","setClinic","summaryButtonRef","useRef","reportLoadingRef","bottomLineRef","recordButtonRef","clearButtonRef","sendRequests","_sendRequests","audioUrl","audioBlob","_toConsumableArray","addAudioElement","_callee","_context","URL","createObjectURL","generateReport","_ref3","resetConversation","checkModelStatusWrapper","_ref4","setTimeout","map","index","ref","onClick","AudioRecorder","onRecordingComplete","name","PDFViewer","fileName","PDFDownloadLink","_ref5","url","loading","AskKeyPage","hfTokenRef","apiKeyRef","emptyInputRef","apiKeyValidRef","hfTokenValidRef","validator","apiKeyValid","hfTokenValid","value","handleKeyDown","event","key","handleClick","onKeyDown","useScript","integrity","async","undefined","crossOrigin","script","removeChild","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.b0f6adf9.chunk.js","sourcesContent":["\nfunction padTo2Digits(num) {\n  return num.toString().padStart(2, '0');\n}\n\nfunction formatDate(date) {\n  return (\n    [\n    //   date.getFullYear(),\n      padTo2Digits(date.getMonth() + 1),\n      padTo2Digits(date.getDate()),\n    ].join('/') +\n    ' ' +\n    [\n      padTo2Digits(date.getHours()),\n      padTo2Digits(date.getMinutes()),\n      padTo2Digits(date.getSeconds()),\n    ].join(':')\n  );\n}\n\nfunction disableButton(buttonRef) {\n  buttonRef.current.style.cursor = \"not-allowed\";\n  buttonRef.current.style.pointerEvents = \"none\";\n  buttonRef.current.style.opacity = \"0.6\";\n}\n\nfunction enableButton(buttonRef) {\n  buttonRef.current.style.cursor = \"pointer\";\n  buttonRef.current.style.pointerEvents = \"auto\";\n  buttonRef.current.style.opacity = \"1\";\n}\n\nconst onRenderDocument = ({blob, filename}) => {\n  var blobUrl = URL.createObjectURL(blob);\n  saveDocument(blobUrl, filename);\n};\n\nconst saveDocument = (function () {\n  var a = document.createElement(\"a\");\n  document.body.appendChild(a);\n  a.style = \"display: none\";\n  return function (blob, fileName) {\n    a.href = blob;\n    a.download = fileName;\n    a.click();\n    window.URL.revokeObjectURL(blob);\n  };\n}());\n\nexport {formatDate, disableButton, enableButton, onRenderDocument, saveDocument};","import '../App.css';\nimport React from \"react\";\n\nconst Loading = () => {\n\treturn (\n\t\t<div className=\"spinner\">\n\t\t\t<div className=\"bounce1\"></div>\n\t\t\t<div className=\"bounce2\"></div>\n\t\t\t<div className=\"bounce3\"></div>\n\t\t</div>\t\t\t\t\t\t\n\t)\n}\n\nexport default Loading;","import '../App.css';\nimport React from \"react\";\nimport { useEffect, useState } from 'react';\n\nimport {formatDate} from '../functions/Utils';\nimport Loading from './Loading';\n\nconst Chat = ({audio, transcription, translation, chat}) => {\n\tconst [transcriptionTime, setTranscriptionTime] = useState(\"\");\n\tconst [translationTime, setTranslationTime] = useState(\"\");\n\tconst [chatTime, setChatTime] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst date = new Date();\n\t\tsetTranscriptionTime(formatDate(date));\n\t}, [transcription]);\n\t\n\tuseEffect(() => {\n\t\tconst date = new Date();\n\t\tsetTranslationTime(formatDate(date));\n\t}, [translation])\n\n\tuseEffect(() => {\n\t\tconst date = new Date();\n\t\tsetChatTime(formatDate(date));\n\t}, [chat])\n\n\treturn (\n\t\t<div style={{margin:\"20px\"}}>\n\t\t\t{/* <div className='msg-inbox'>\n\t\t\t<div className='chats'> */}\n\t\t\t<div className='msg-page'>\n\t\t\t\t<div className=\"sent-chats\">\n\t\t\t\t\t<div className='sent-chats-msg'>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t// Set this to be null to avoid situation that return is empty\n\t\t\t\t\t\taudio !== null\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t<audio controls=\"True\" src={audio}></audio>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Loading/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\ttranscription !== null\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<p>{transcription}</p>\n\t\t\t\t\t\t\t\t{/* <span className=\"chat-time\">{transcriptionTime}</span> */}\n\t\t\t\t\t\t\t\t{translation !== null\n\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<p style={{marginTop:\"1px\"}}>{translation}</p>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"chat-time\">{translationTime}</span>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</>\t\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<Loading/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\taudio !== null\n\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t<Loading/>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='sent-chats-img'>\n\t\t\t\t\t\t<img className='chats-img' src=\"old.png\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{/* <div className=\"sent-chats\">\n\t\t\t\t\t{\n\t\t\t\t\ttranslation !== null\n\t\t\t\t\t\t?\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className='sent-chats-msg'>\n\t\t\t\t\t\t\t\t<div className='sent-msg-inbox'>\n\t\t\t\t\t\t\t\t\t<p>{translation}</p>\n\t\t\t\t\t\t\t\t\t<span className=\"chat-time\">{translationTime}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='sent-chats-img'>\n\t\t\t\t\t\t\t\t<img className='chats-img' src=\"chatgpt.png\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t: \n\t\t\t\t\t\t\ttranscription !== null\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t<Loading/>\t\t\t\t\t\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t}\n\t\t\t\t</div> */}\n\t\t\t\t<div className=\"received-chats\">\n\t\t\t\t\t{\n\t\t\t\t\tchat !== null\n\t\t\t\t\t\t?\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className='received-chats-img'>\n\t\t\t\t\t\t\t\t<img className='chats-img' src=\"chatgpt.png\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='received-msg'>\n\t\t\t\t\t\t\t\t<div className='received-msg-inbox'>\n\t\t\t\t\t\t\t\t\t<p>{chat}</p>\n\t\t\t\t\t\t\t\t\t<span className=\"chat-time\">{chatTime}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t: \n\t\t\t\t\t\ttranslation !== null\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t<Loading/>\t\t\t\t\t\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t{/* </div>\n\t\t\t</div> */}\n\t\t\t</div>\n\t\t</div>\n\t)\n\n}\n\nexport default Chat;","import '../App.css';\nimport React from \"react\";\n\nimport Loading from './Loading';\n\nconst Clinic = ({clinic}) => {\n\n\treturn (\n\t\t<div style={{margin:\"20px\"}}>\n\t\t\t<div className='msg-page'>\n\t\t\t\t<div className=\"clinic-chats\">\n\t\t\t\t\t{\n\t\t\t\t\tclinic.length > 0\n\t\t\t\t\t\t?\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className='clinic-chats-image'>\n\t\t\t\t\t\t\t\t<img className='clinic-img' src=\"chatgpt.png\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='clinic-msg'>\n\t\t\t\t\t\t\t\t<div className='received-msg-inbox'>\n\t\t\t\t\t\t\t\t\t<p>{clinic}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t: \n\t\t\t\t\t\t<div className='center'>\n\t\t\t\t\t\t<h2>Wait for clinic scheduling</h2>\n\t\t\t\t\t\t<Loading/>\n\t\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n\n}\n\nexport default Clinic;","import '../App.css';\nimport React from \"react\";\n\nimport { onRenderDocument } from '../functions/Utils';\nimport { Page, Text, View, Document, StyleSheet, PDFViewer, Font } from '@react-pdf/renderer';\n\nFont.register({\n    family: 'NotoSansTC-Regular',\n    //   src: 'https://github.com/adobe-fonts/source-han-sans/raw/release/Variable/TTF/SourceHanSansTC-VF.ttf'\n    src: 'SourceHanSansTC-VF.ttf'\n});\n\nconst styles = StyleSheet.create({\n    page: {\n        padding: 40,\n        fontSize: 12,\n\t\tfontFamily: \"NotoSansTC-Regular\",\n        display: \"block\"\n    },\n    title: {\n        color: \"blue\",\n        fontWeight: \"bold\",\n        paddingBottom: 3,\n        marginBottom: 20,\n        fontSize: 24,\n        textAlign: \"center\",\n        letterSpacing: \"2px\"\n    },\n    text: {\n        // width: \"100px\",\n        fontSize: 15,\n        letterSpacing: \"1px\",\n        lineHeight: \"1.5px\"\n    },\n});\n\nconst ReportViewer = ({translations, chats, summary}) => {\n    const addNewline = (text) => {\n        var textLine = \"\"\n        const lines =  text.split(\"\\n\")\n        console.log(lines)\n        for (let i = 0; i < lines.length; i++){\n            const subline = lines[i].match(/.{1,30}/g) ?? [];\n            for (let j = 0; j < subline.length; j ++)\n                textLine += subline[j] + \"\\n\"\n        }\n        return textLine;\n    }\n\treturn (\n    <Document >\n        <Page size=\"A4\" style={styles.page}>\n            <View style={{flexDirection:'column', justifyContent: 'space-between', flexWrap: 'wrap'}}>\n                <View style={styles.title}>\n                <Text> ChatGPT 問診紀錄 </Text>\n                </View>\n                <View style={styles.text}>\n                <Text>{addNewline(summary)}</Text>\n                </View>\n            </View>\n        </Page>\n    </Document>\n\n\t)\n}\n\nexport default ReportViewer;","const ClinicSchedule = [\n\t\"科別：婦科部 專長：一般婦科 門診時間：星期日上午 7:30 ~ 9:00  看診醫師：林鶴健\",\n\t\"科別：骨科部 專長：一般骨科 門診時間：星期四早上 5:00 ~ 7:00  看診醫師：王真諦\",\n\t\"科別：內科部 專長：腸胃手術 門診時間：星期一下午 4:00 ~ 5:00  看診醫師：吳麗陽\",\n\t\"科別：內科部 專長：腦血管疾病、腦中風 門診時間：星期五下午 7:00 ~ 9:00  看診醫師：吳茲浩\",\n\t\"科別：小兒部 專長：一般小兒病 門診時間：星期日上午 6:30 ~ 8:00  看診醫師：林小明\",\n]\n\nexport default ClinicSchedule","import axios from \"axios\";\n\nimport { createSilentAudio } from 'create-silent-audio';\nimport ClinicSchedule from \"../data/ClinicSchedule\";\n\n// OpenAI chatgpt\nconst chatgptModel = \"gpt-3.5-turbo\";\nconst urlForChatgpt = \"https://api.openai.com/v1/chat/completions\";\n\n// Huggingface whisper\nconst corsProxy = \"https://proxy.cors.sh/\"\n// TODO: This key will only valid for 3 days\nconst corsApiKey = \"temp_dad43d1e9198464889afa344e26cbe2f\"\nconst urlForWhisper = `${corsProxy}https://karrwwh5ysnipoiz.us-east-1.aws.endpoints.huggingface.cloud`;\n// const urlForWhisper = \"https://karrwwh5ysnipoiz.us-east-1.aws.endpoints.huggingface.cloud\";\n// const urlForWhisper = \"https://api-inference.huggingface.co/models/Evan-Lin/whisper-large-v1-tw\";\n\n// OpenAI whisper\nconst whisperModel = \"whisper-1\";\n// const urlForWhisper = \"https://api.openai.com/v1/audio/transcriptions\";\nasync function validateApiKey(apiKey){\n  try{\n      const headers = {\n          \"content-type\": \"application/json\",\n          \"Authorization\": `Bearer ${apiKey}`\n      };\n      const messages = [\n              {\"role\": \"user\", \"content\": \"Hello!\"}\n          ]\n      const jsonData = {messages: messages, model: chatgptModel}\n      const response = await axios.post(urlForChatgpt, jsonData, { headers:headers })\n      return true;\n  }\n  catch (error) {\n      console.log(error);\n      return false;\n  }\n}\n\nasync function validateHfToken(hfToken){\n    try{\n\t\tconst fakeAudio = createSilentAudio(5, 44100);\n        const blob = new Blob([fakeAudio], {type: \"audio/webm;codecs=opus\"});\n\n        const headers = {\n\t\t\t\"Authorization\": `Bearer ${hfToken}`,\n            \"Content-Type\": \"audio/webm;codecs=opus\",\n            \"x-cors-api-key\": corsApiKey    \n\t\t};   \n\n\t\tconst response = await axios.post(urlForWhisper, blob, {\"headers\": headers})\n        return true\n\t}\n\tcatch (error){\n\t\tconsole.log(error.response.data.error);\n\t\tif (error.response.data.error === \"Authorization header is correct, but the token seems invalid\")\n\t\t\treturn false\n\t\telse \n\t\t\treturn true\n\t}\n}\n\nasync function checkModelStatus(hfToken){\n    try{\n\t\tconst fakeAudio = createSilentAudio(5, 44100);\n        const blob = new Blob([fakeAudio], {type: \"audio/webm;codecs=opus\"});\n\n        const headers = {\n\t\t\t\"Authorization\": `Bearer ${hfToken}`,\n            \"Content-Type\": \"audio/webm;codecs=opus\",\n            \"x-cors-api-key\": corsApiKey   \n\t\t};   \n\n\t\tconst response = await axios.post(urlForWhisper, blob, {\"headers\": headers})\n\t\tconsole.log(response.status)\n        return true\n\t}\n\tcatch (error){\n        console.log(error)\n\t\tconsole.log(error.response.status);\n\t\tif (error.response.status === 503)\n\t\t\treturn false\n\t\telse \n\t\t\treturn true\n\t}\n}\n\nconst sendAudioRequestOpenAi = async function (blob, apiKey) {      \n    const headers = {\n        \"content-type\":  \"multipart/form-data\",\n        \"Authorization\": `Bearer ${apiKey}`\n    //   \"Authorization\": `Bearer ${process.env.REACT_APP_OPENAI_API_KEY}`\n    };    \n    const formData = new FormData();\n    formData.append(\"file\", blob , \"audio.mp3\")\n    formData.append(\"model\", whisperModel)\n    formData.append(\"language\", \"zh\")\n\n    try{\n        const response = await axios.post(urlForWhisper, formData, {\"headers\": headers})\n        const transcription = response.data.text;    \n        return transcription\n    }\n    catch (error){\n\t\tconsole.log(error)\n        if (error.response.status === 429){\n            const response = await axios.post(urlForWhisper, formData, {\"headers\": headers})\n            const transcription = response.data.text \n            return transcription\n        }\n        else \n            return \"\"\n    }\n}\n\nconst sendAudioRequest = async function (blob, hfToken) {      \n    try{\n        const headers = {\n            \"authorization\": `Bearer ${hfToken}`,\n            \"content-type\": \"audio/webm;codecs=opus\",\n            \"accept\": \"application/json\",\n            \"x-cors-api-key\": corsApiKey           \n        };    \n        \n        const response = await axios.post(urlForWhisper, blob, {\"headers\": headers, \"data\": {}})\n        const transcription = response.data.text;    \n        return transcription\n    }\n    catch (error){\n        console.log(error);\n    }\n}\n\nasync function sendTranslationRequest (transcription, apiKey) {\n    const headers = {\n        \"content-type\": \"application/json\",\n        \"Authorization\": `Bearer ${apiKey}`\n    };\n    const messages = [\n            // TODO\n            {\"role\": \"system\", \"content\": \"Rewrite the sentence into a fluent Traditional Chinese one\"},\n            {\"role\": \"user\", \"content\": transcription}\n        ]\n    const jsonData = {messages: messages, model: chatgptModel}\n    try{\n        const response = await axios.post(urlForChatgpt, jsonData, { headers:headers })\n        const translation = response.data.choices[0].message.content\n        return translation;\n    }\n    catch (error) {\n        console.log(error);\n        if (error.response.status === 429){\n            const response = await axios.post(urlForChatgpt, jsonData, { headers:headers })\n            const translation = response.data.choices[0].message.content\n            return translation;\n        }\n        else \n            return \"\"        \n    }\n}\n\nasync function sendChatRequest(translation, translations, chats, apiKey) {\n    const headers = {\n        \"content-type\": \"application/json\",\n        \"Authorization\": `Bearer ${apiKey}`\n    };\n    const messages = [\n                {\"role\": \"system\", \"content\": \"你是一個診前問診系統，病人會跟你說他目前的身體狀況，\\\n                                            病人通常會跟你講以下幾件事情:\\n\\n發病：什麼時候開始\\\n                                            注意到有症狀產生？誘發原因：症狀開始出現的時間點附近，\\\n                                            病人在什麼環境做了哪些事情？性質：症狀出現時的感覺、\\\n                                            症狀的特徵症狀散布：出現症狀的部位是否改變、或者隨著\\\n                                            身體的移動而有變化？嚴重程度：症狀何時最嚴重？有多嚴重？\\\n                                            \\n\\n請你利用獲得的訊息，來建立看診目標，可以從提出開放式\\\n                                            的問題開始，如果上述關於發病、誘發原因、性質、症狀散布、\\\n                                            嚴重程度有不清楚的地方，也可以請病人回答，然後觀察病人的\\\n                                            回覆，並用繁體中文給出建議。\"},\n        ]\n\n    console.log(translations)\n    // Multi-turn chats\n    // FIXME: setState() is async, so the translations here are not updated,\n    //        so constraint should be translations.length \n    //        to including the last translation\n    for (let i = 0; i < translations.length; i ++){\n        messages.push({\"role\": \"user\", \"content\": translations[i]});\n        messages.push({\"role\": \"assistant\", \"content\": chats[i]});\n    }\n    messages.push({\"role\": \"user\", \"content\": translation});\n    console.log(messages)\n    const jsonData = {messages: messages, model: chatgptModel}\n    try {\n        const response = await axios.post(urlForChatgpt, jsonData, {headers: headers} )\n        const chat = response.data.choices[0].message.content\n        return chat;\n    }\n    catch (error){\n        console.log(error)\n        if (error.response.status === 429){\n            const response = await axios.post(urlForChatgpt, jsonData, {headers: headers} )\n            const chat = response.data.choices[0].message.content\n            return chat;\n        }\n        else \n            return \"\"    \n    }\n}\n\nasync function sendSummaryRequest(translations, apiKey) {\n    const headers = {\n        \"content-type\": \"application/json\",\n        \"Authorization\": `Bearer ${apiKey}`\n    };\n    const messages = [\n                {\"role\": \"system\", \"content\": \"你是一個重點整理系統，病人會跟你說他目前的身體狀況，\\\n                                                通常會包含以下 4 個面向:\\n\\n發病時間、症狀的誘發原因、\\\n                                                症狀的性質、嚴重程度 。請你利用獲得的訊息，針對這些面向 \\\n                                                進行重點整理，最後用繁體中文給出總結（你不需要給出建議，\\\n                                                只需要客觀的統整重點即可）。\"},\n        ]\n\n    messages.push({\"role\": \"user\", \"content\": \"病人的描述：\"})\n\n    for (let i = 0; i < translations.length; i ++){\n        messages.push({\"role\": \"user\", \"content\": translations[i]});\n    }\n    console.log(messages)\n    const jsonData = {messages: messages, model: chatgptModel}\n    try {\n        const response = await axios.post(urlForChatgpt, jsonData, {headers: headers} )\n        const chat = response.data.choices[0].message.content\n        return chat;\n    }\n    catch (error){\n        console.log(error)\n        if (error.response.status === 429){\n            const response = await axios.post(urlForChatgpt, jsonData, {headers: headers} )\n            const chat = response.data.choices[0].message.content\n            return chat;\n        }\n        else \n            return \"\"    \n    }\n}\n\nasync function sendClinicRequest(translations, apiKey) {\n    const headers = {\n        \"content-type\": \"application/json\",\n        \"Authorization\": `Bearer ${apiKey}`\n    };\n    const messages = [\n                {\"role\": \"system\", \"content\": \"根據病人的描述及門診時間表，找出專長為病人症狀的醫生 \\\n                                                並告知對應的診別及門診時間。請以繁體中文回答。\"},\n        ]\n\n    messages.push({\"role\": \"user\", \"content\": \"病人的描述：\"});\n    for (let i = 0; i < translations.length; i ++){\n        messages.push({\"role\": \"user\", \"content\": translations[i]});\n    }\n\n    messages.push({\"role\": \"user\", \"content\": \"門診時間表：\"});\n    for (let i = 0; i < ClinicSchedule.length; i ++){\n        messages.push({\"role\": \"user\", \"content\": ClinicSchedule[i]});\n    }    \n    console.log(messages)\n    const jsonData = {messages: messages, model: chatgptModel}\n    try {\n        const response = await axios.post(urlForChatgpt, jsonData, {headers: headers} )\n        const chat = response.data.choices[0].message.content\n        return chat;\n    }\n    catch (error){\n        console.log(error)\n        if (error.response.status === 429){\n            const response = await axios.post(urlForChatgpt, jsonData, {headers: headers} )\n            const chat = response.data.choices[0].message.content\n            return chat;\n        }\n        else \n            return \"\"    \n    }\n}\n\nexport {validateApiKey, checkModelStatus, sendAudioRequest,\n         sendChatRequest, sendTranslationRequest, sendAudioRequestOpenAi,\n         validateHfToken, sendSummaryRequest, sendClinicRequest};","import '../App.css';\nimport React from \"react\";\nimport { useEffect, useState, useRef } from \"react\";\n\nimport { AudioRecorder } from 'react-audio-voice-recorder';\nimport { PDFDownloadLink, PDFViewer } from '@react-pdf/renderer';\n\nimport Chat from '../components/Chat';\nimport Clinic from '../components/Clinic';\nimport Loading from '../components/Loading';\nimport ReportViewer from '../components/ReportViewer';\n\nimport { enableButton, disableButton } from '../functions/Utils';\nimport { checkModelStatus, sendAudioRequest, sendTranslationRequest, \n        sendChatRequest, sendAudioRequestOpenAi, sendSummaryRequest,\n        sendClinicRequest } from '../api/Request';\n\nconst MessageRoomPage = ({apiKey, hfToken, setApiKey, setHfToken}) => {\n\n    const [modelReady, setModelReady] = useState(false);\n    const [audios, setAudios] = useState([]);\n    const [transcriptions, setTranscriptions] = useState([]);\n    const [translations, setTranslations] = useState([]);\n    const [chats, setChats] = useState([]);\n    const [summary, setSummary] = useState(\"\");\n    const [clinic, setClinic] = useState(\"\");\n\n    const summaryButtonRef = useRef();\n    const reportLoadingRef = useRef();\n    const bottomLineRef = useRef();\n    const recordButtonRef = useRef();\n    const clearButtonRef = useRef();\n\n    async function sendRequests (audioUrl, audioBlob){\n        // Hugging face whisper\n        const transcription = await sendAudioRequest(audioBlob, hfToken);\n        setTranscriptions([...transcriptions, transcription]); \n        \n        // OpenAI whisper\n        // const transcription = await sendAudioRequestOpenAi(audioBlob, apiKey);\n        // setTranscriptions([...transcriptions, transcription]);\n\n        const translation = await sendTranslationRequest(transcription, apiKey);\n        setTranslations([...translations, translation])\n\n        const chat = await sendChatRequest(translation, translations, chats, apiKey);\n        setChats([...chats, chat])\n\n    }\n\n    const addAudioElement = async function (audioBlob) {\n        summaryButtonRef.current.style.display = \"none\";\n        disableButton(recordButtonRef)\n        disableButton(clearButtonRef)\n\n        const audioUrl = URL.createObjectURL(audioBlob);\n        setAudios([...audios, audioUrl]);\n\n        // enforce the length of three lists are equal\n        setTranscriptions([...transcriptions, null]);\n        setTranslations([...translations, null]);\n        setChats([...chats, null]);\n\n        await sendRequests(audioUrl, audioBlob);\n\n        summaryButtonRef.current.style.display = \"inline\";\n        enableButton(recordButtonRef)\n        enableButton(clearButtonRef)\n    };\n\n    const generateReport = async function() {\n        bottomLineRef.current.style.display = \"none\";\n        summaryButtonRef.current.style.display = \"none\";\n        \n        const summary = await sendSummaryRequest(translations, apiKey);\n        reportLoadingRef.current.style.display = \"none\";\n        setSummary(summary);\n        console.log(summary)\n        \n        const clinic = await sendClinicRequest(translations, apiKey);\n        setClinic(clinic);\n        console.log(clinic)\n    }\n\n    const continueConversation = () => { \n        setSummary(\"\")\n        setClinic(\"\")\n    }\n\n    const resetConversation = () => {\n        summaryButtonRef.current.style.display = \"none\";\n        setAudios([]);\n        setTranscriptions([]);\n        setTranslations([]);\n        setChats([]);\n        setSummary([]);\n    }\n\n    const endConversation = () => { \n        resetConversation()\n        setHfToken(\"\")\n        setApiKey(\"\")\n    }\n\n    useEffect(() => {\n        // For Hugging face Whisper\n        const checkModelStatusWrapper = async() =>{\n            const response = await checkModelStatus(hfToken)  \n            console.log(response)\n            if (response === true) \n                setModelReady(true)\n            else\n                setTimeout(checkModelStatusWrapper, 8000);\n            \n            return response      \n        }\n        checkModelStatusWrapper();\n        setModelReady(true)\n    }, []);\n\n    return (\n        <div className=\"App\" style={{marginTop:\"30px\"}}>\n            {            \n            summary.length === 0\n            ?\n                modelReady \n                ?\n                    <>\n                    <div className='msg-container'>\n                    {\n                        audios.map((audio, index)=> (\n                            <Chat key={index} audio={audios[index]} transcription={transcriptions[index]} \n                                    translation={translations[index]} chat={chats[index]}/>\n                        ))\n                    }\n                        <button className=\"button-ellipse\" ref={summaryButtonRef} onClick={generateReport} style={{\"display\": \"none\", \"marginBottom\":\"40px\", \"marginTop\":\"40px\" }}>生成問診報告</button>\n                        <div className='center'  ref={reportLoadingRef}  style={{\"display\": \"none\", \"paddingBottom\":\"60px\"}}>\n                            <h2>Wait for report generation</h2>\n                            <Loading/>\n                        </div>\n                    </div>\n                    <div ref={bottomLineRef}>\n                        <div className='bottom-line'></div>\n                        <div className='bottom-line-button'>\n                            <div ref={recordButtonRef}>\n                                <AudioRecorder onRecordingComplete={addAudioElement}/>\n                            </div>\n                            <button className='circle-button' ref={clearButtonRef} onClick={resetConversation}  >\n                                <ion-icon name=\"trash\" style={{fontSize: \"17px\"}}></ion-icon>\n                            </button>\n                        </div>\n                    </div>\n                    </>\n                :\n                    <div className='center'>\n                    <h2>Wait for model loading</h2>\n                    <Loading/>\n                    </div>\n            :\n            <div className='msg-page'>\n                {/* PDFViewer must be outside ReportViewer or the error occurs */}\n                <h2>問診紀錄</h2>\n                <PDFViewer style={{\"width\" : \"80%\", \"height\": \"300px\"}} fileName=\"ChatGPT 問診紀錄.pdf\">\n                    <ReportViewer translations={translations} chats={chats} summary={summary}/>\n                </PDFViewer>\n                <div className='msg-container' style={{\"margin\":\"auto\", \"height\": \"200px\"}}>\n                    <Clinic clinic={clinic}></Clinic>\n                </div>\n                <div style={{\"marginBottom\":\"60px\"}}>\n                    <button className='button-ellipse' onClick={continueConversation}>繼續問診</button>       \n                    <PDFDownloadLink document={<ReportViewer translations={translations} chats={chats} summary={summary}/>} fileName=\"ChatGPT 問診紀錄.pdf\">\n                    {({ blob, url, loading, error }) =>\n                        loading ? '' : <button className='button-ellipse margin-left'>下載問診紀錄</button>\n                    }\n                    </PDFDownloadLink>\n                    <button className='button-ellipse margin-left' onClick={endConversation}>結束問診</button>\n                </div>\n            </div>\n            }   \n        </div>\n    );\n}\n\nexport default MessageRoomPage;\n","import '../App.css';\nimport React from \"react\";\nimport { useRef } from \"react\";\n\nimport { validateHfToken, validateApiKey } from '../api/Request';\n\nconst AskKeyPage = ({setApiKey, setHfToken}) => {\n\n    const hfTokenRef = useRef();\n    const apiKeyRef = useRef();\n    const emptyInputRef = useRef();\n    const apiKeyValidRef = useRef();\n    const hfTokenValidRef = useRef();\n\n    const validator = async () => {\n        try{\n            const apiKey = apiKeyRef.current.value\n            const hfToken = hfTokenRef.current.value\n            if (apiKey.length === 0 || hfToken.length === 0){\n                emptyInputRef.current.style.display = \"inline\";\n                apiKeyValidRef.current.style.display = \"none\";\n                hfTokenValidRef.current.style.display = \"none\";                    \n                return\n            }\n            else \n                emptyInputRef.current.style.display = \"none\";\n            \n            const apiKeyValid = await validateApiKey(apiKey);\n            const hfTokenValid = await validateHfToken(hfToken)\n            \n            if (apiKeyValid === true && hfTokenValid === true){\n                setApiKey(apiKey)\n                setHfToken(hfToken)\n                apiKeyValidRef.current.style.display = \"none\";\n                hfTokenValidRef.current.style.display = \"none\";\n            }\n            else {\n                if (apiKeyValid === false) \n                    apiKeyValidRef.current.style.display = \"inline\";\n                else \n                    apiKeyValidRef.current.style.display = \"none\";\n                if (hfTokenValid === false)\n                    hfTokenValidRef.current.style.display = \"inline\";\n                else\n                    hfTokenValidRef.current.style.display = \"none\";\n            }\n        }\n        catch (error){\n            console.log(error)\n        }\n    }\n\n    const handleKeyDown = async (event) => {\n        if (event.key === \"Enter\")\n            validator()\n    }\n\n    const handleClick = async (event) => {\n        validator()\n    }\n\n    return (\n        <div className=\"App ask-key-container\" >\n            <h2>診前問診系統</h2>\n            <br/><br/>\n            <div className='ask-key-component'>\n                <span>\n                    OpenAI Api Key : &nbsp; &emsp;&nbsp;<input type=\"text\" onKeyDown={handleKeyDown} ref={apiKeyRef}/>\n                </span>\n                <br/><br/>\n                <span>\n                    Huggingface Token : &nbsp;<input type=\"text\" onKeyDown={handleKeyDown} ref={hfTokenRef}/>\n                </span>\n            </div>\n            <br/><br/>\n            <button onClick={handleClick}>確認</button>\n            <div className=\"error\" ref={emptyInputRef} style={{\"display\": \"none\"}}>\n                <h3 style={{\"color\":\"red\"}}>Error!</h3>\n                <p style={{\"color\":\"red\"}}>Please ensure that both two input box are filled</p>\n            </div> \n            <div className=\"error\" ref={apiKeyValidRef} style={{\"display\": \"none\"}}>\n                <h3 style={{\"color\":\"red\"}}>Error!</h3>\n                <p style={{\"color\":\"red\"}}>Please ensure that a correct OpenAI apikey is provided</p>\n            </div> \n            <div className=\"error\" ref={hfTokenValidRef} style={{\"display\": \"none\"}}>\n                <h3 style={{\"color\":\"red\"}}>Error!</h3>\n                <p style={{\"color\":\"red\"}}>Please ensure that a correct huggingface token is provided</p>\n            </div> \n        </div>\n    );\n}\n\nexport default AskKeyPage;\n","import { useEffect } from \"react\"\n\nconst useScript = (url, integrity, async = true, crossOrigin = \"anonymous\") => {\n  useEffect(() => {\n    const script = document.createElement(\"script\")\n\n    script.src = url\n\n    script.async = async\n\n    if (integrity) {\n      script.integrity = integrity\n    }\n\n    script.crossOrigin = crossOrigin\n\n    document.body.appendChild(script)\n\n    return () => {\n      document.body.removeChild(script)\n    }\n  }, [url, integrity, async, crossOrigin])\n}\n\nexport default useScript","import './App.css';\nimport React from \"react\";\n// import dotenv_defaults from \"dotenv-defaults\";\nimport { useState } from \"react\";\n\nimport MessageRoomPage from \"./containers/MessageRoomPage\"\nimport AskKeyPage from './containers/AskKeyPage';\nimport useScript from './functions/UseScript';\n// dotenv_defaults.config();\n\nfunction App() {\n\n    // useScript(\"https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.esm.js\")\n    useScript(\"https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.js\")\n    const [apiKey, setApiKey] = useState(\"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\");\n    const [hfToken, setHfToken] = useState(\"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\");\n\n    return (\n        <div className=\"App\" style={{marginTop:\"30px\"}}>\n            { apiKey.length && hfToken.length\n                ?\n                <MessageRoomPage apiKey={apiKey} hfToken={hfToken} setApiKey={setApiKey} setHfToken={setHfToken}/>\n                :\n                <AskKeyPage setApiKey={setApiKey} setHfToken={setHfToken}/>\n            }\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}