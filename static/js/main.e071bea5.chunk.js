(this["webpackJsonpWhisper-and-ChatGPT"]=this["webpackJsonpWhisper-and-ChatGPT"]||[]).push([[0],{113:function(e,t,n){},117:function(e,t){},119:function(e,t){},142:function(e,t){},143:function(e,t){},190:function(e,t){},198:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n.n(r),s=n(92),a=n.n(s),o=(n(113),n(8)),i=(n(24),n(7)),u=n(23),l=n(11),p=n(93),j=n(16);function b(e){return e.toString().padStart(2,"0")}function d(e){return[b(e.getMonth()+1),b(e.getDate())].join("/")+" "+[b(e.getHours()),b(e.getMinutes()),b(e.getSeconds())].join(":")}function h(e){e.current.style.cursor="not-allowed",e.current.style.pointerEvents="none",e.current.style.opacity="0.6"}function O(e){e.current.style.cursor="pointer",e.current.style.pointerEvents="auto",e.current.style.opacity="1"}!function(){var e=document.createElement("a");document.body.appendChild(e),e.style="display: none"}();var f=n(2),x=function(){return Object(f.jsxs)("div",{className:"spinner",children:[Object(f.jsx)("div",{className:"bounce1"}),Object(f.jsx)("div",{className:"bounce2"}),Object(f.jsx)("div",{className:"bounce3"})]})},m=function(e){var t=e.audio,n=e.transcription,c=e.translation,s=e.chat,a=Object(r.useState)(""),i=Object(o.a)(a,2),u=(i[0],i[1]),l=Object(r.useState)(""),p=Object(o.a)(l,2),j=p[0],b=p[1],h=Object(r.useState)(""),O=Object(o.a)(h,2),m=O[0],g=O[1];return Object(r.useEffect)((function(){var e=new Date;u(d(e))}),[n]),Object(r.useEffect)((function(){var e=new Date;b(d(e))}),[c]),Object(r.useEffect)((function(){var e=new Date;g(d(e))}),[s]),Object(f.jsx)("div",{style:{margin:"20px"},children:Object(f.jsxs)("div",{className:"msg-page",children:[Object(f.jsxs)("div",{className:"sent-chats",children:[Object(f.jsxs)("div",{className:"sent-chats-msg",children:[null!==t?Object(f.jsx)("audio",{controls:"True",src:t}):Object(f.jsx)(x,{}),null!==n?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:n}),null!==c?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{style:{marginTop:"1px"},children:c}),Object(f.jsx)("span",{className:"chat-time",children:j})]}):Object(f.jsx)(x,{})]}):null!==t?Object(f.jsx)(x,{}):Object(f.jsx)(f.Fragment,{})]}),Object(f.jsx)("div",{className:"sent-chats-img",children:Object(f.jsx)("img",{className:"chats-img",src:"old.png"})})]}),Object(f.jsx)("div",{className:"received-chats",children:null!==s?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"received-chats-img",children:Object(f.jsx)("img",{className:"chats-img",src:"chatgpt.png"})}),Object(f.jsx)("div",{className:"received-msg",children:Object(f.jsxs)("div",{className:"received-msg-inbox",children:[Object(f.jsx)("p",{children:s}),Object(f.jsx)("span",{className:"chat-time",children:m})]})})]}):null!==c?Object(f.jsx)(x,{}):Object(f.jsx)(f.Fragment,{})})]})})},g=function(e){var t=e.clinic;return Object(f.jsx)("div",{style:{margin:"20px"},children:Object(f.jsx)("div",{className:"msg-page",children:Object(f.jsx)("div",{className:"clinic-chats",children:t.length>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"clinic-chats-image",children:Object(f.jsx)("img",{className:"clinic-img",src:"chatgpt.png"})}),Object(f.jsx)("div",{className:"clinic-msg",children:Object(f.jsx)("div",{className:"received-msg-inbox",children:Object(f.jsx)("p",{children:t})})})]}):Object(f.jsxs)("div",{className:"center",children:[Object(f.jsx)("h2",{children:"Wait for clinic scheduling"}),Object(f.jsx)(x,{})]})})})})};j.b.register({family:"NotoSansTC-Regular",src:"SourceHanSansTC-VF.ttf"});var y=j.f.create({page:{padding:40,fontSize:12,fontFamily:"NotoSansTC-Regular",display:"block"},title:{color:"blue",fontWeight:"bold",paddingBottom:3,marginBottom:20,fontSize:24,textAlign:"center",letterSpacing:"2px"},text:{fontSize:15,letterSpacing:"1px",lineHeight:"1.5px"}}),v=function(e){e.translations,e.chats;var t=e.summary;return Object(f.jsx)(j.a,{children:Object(f.jsx)(j.e,{size:"A4",style:y.page,children:Object(f.jsxs)(j.h,{style:{flexDirection:"column",justifyContent:"space-between",flexWrap:"wrap"},children:[Object(f.jsx)(j.h,{style:y.title,children:Object(f.jsx)(j.g,{children:" ChatGPT \u554f\u8a3a\u7d00\u9304 "})}),Object(f.jsx)(j.h,{style:y.text,children:Object(f.jsx)(j.g,{children:function(e){var t="",n=e.split("\n");console.log(n);for(var r=0;r<n.length;r++)for(var c,s=null!==(c=n[r].match(/.{1,30}/g))&&void 0!==c?c:[],a=0;a<s.length;a++)t+=s[a]+"\n";return t}(t)})})]})})})},w=n(200),k=n(70),N=["\u79d1\u5225\uff1a\u5a66\u79d1\u90e8 \u5c08\u9577\uff1a\u4e00\u822c\u5a66\u79d1 \u9580\u8a3a\u6642\u9593\uff1a\u661f\u671f\u65e5\u4e0a\u5348 7:30 ~ 9:00  \u770b\u8a3a\u91ab\u5e2b\uff1a\u6797\u9db4\u5065","\u79d1\u5225\uff1a\u9aa8\u79d1\u90e8 \u5c08\u9577\uff1a\u4e00\u822c\u9aa8\u79d1 \u9580\u8a3a\u6642\u9593\uff1a\u661f\u671f\u56db\u65e9\u4e0a 5:00 ~ 7:00  \u770b\u8a3a\u91ab\u5e2b\uff1a\u738b\u771f\u8ae6","\u79d1\u5225\uff1a\u5167\u79d1\u90e8 \u5c08\u9577\uff1a\u8178\u80c3\u624b\u8853 \u9580\u8a3a\u6642\u9593\uff1a\u661f\u671f\u4e00\u4e0b\u5348 4:00 ~ 5:00  \u770b\u8a3a\u91ab\u5e2b\uff1a\u5433\u9e97\u967d","\u79d1\u5225\uff1a\u5167\u79d1\u90e8 \u5c08\u9577\uff1a\u8166\u8840\u7ba1\u75be\u75c5\u3001\u8166\u4e2d\u98a8 \u9580\u8a3a\u6642\u9593\uff1a\u661f\u671f\u4e94\u4e0b\u5348 7:00 ~ 9:00  \u770b\u8a3a\u91ab\u5e2b\uff1a\u5433\u8332\u6d69","\u79d1\u5225\uff1a\u5c0f\u5152\u90e8 \u5c08\u9577\uff1a\u4e00\u822c\u5c0f\u5152\u75c5 \u9580\u8a3a\u6642\u9593\uff1a\u661f\u671f\u65e5\u4e0a\u5348 6:30 ~ 8:00  \u770b\u8a3a\u91ab\u5e2b\uff1a\u6797\u5c0f\u660e"],S="gpt-3.5-turbo",T="https://api.openai.com/v1/chat/completions",C="temp_dad43d1e9198464889afa344e26cbe2f",A="".concat("https://proxy.cors.sh/","https://karrwwh5ysnipoiz.us-east-1.aws.endpoints.huggingface.cloud");function B(e){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={"content-type":"application/json",Authorization:"Bearer ".concat(t)},r={messages:[{role:"user",content:"Hello!"}],model:S},e.next=6,w.a.post(T,r,{headers:n});case 6:return e.sent,e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function z(e){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(Object(i.a)().mark((function e(t){var n,r,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(k.createSilentAudio)(5,44100),r=new Blob([n],{type:"audio/webm;codecs=opus"}),c={Authorization:"Bearer ".concat(t),"Content-Type":"audio/webm;codecs=opus","x-cors-api-key":C},e.next=6,w.a.post(A,r,{headers:c});case 6:return e.sent,e.abrupt("return",!0);case 10:if(e.prev=10,e.t0=e.catch(0),console.log(e.t0.response.data.error),"Authorization header is correct, but the token seems invalid"!==e.t0.response.data.error){e.next=17;break}return e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function F(e){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(Object(i.a)().mark((function e(t){var n,r,c,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(k.createSilentAudio)(5,44100),r=new Blob([n],{type:"audio/webm;codecs=opus"}),c={Authorization:"Bearer ".concat(t),"Content-Type":"audio/webm;codecs=opus","x-cors-api-key":C},e.next=6,w.a.post(A,r,{headers:c});case 6:return s=e.sent,console.log(s.status),e.abrupt("return",!0);case 11:if(e.prev=11,e.t0=e.catch(0),console.log(e.t0),console.log(e.t0.response.status),503!==e.t0.response.status){e.next=19;break}return e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var H=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t,n){var r,c,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={authorization:"Bearer ".concat(n),"content-type":"audio/webm;codecs=opus",accept:"application/json","x-cors-api-key":C},e.next=4,w.a.post(A,t,{headers:r,data:{}});case 4:return c=e.sent,s=c.data.text,e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();function K(e,t){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(Object(i.a)().mark((function e(t,n){var r,c,s,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={"content-type":"application/json",Authorization:"Bearer ".concat(n)},c={messages:[{role:"system",content:"Rewrite the sentence into a fluent Traditional Chinese one"},{role:"user",content:t}],model:S},e.prev=3,e.next=6,w.a.post(T,c,{headers:r});case 6:return s=e.sent,a=s.data.choices[0].message.content,e.abrupt("return",a);case 11:if(e.prev=11,e.t0=e.catch(3),console.log(e.t0),429!==e.t0.response.status){e.next=22;break}return e.next=17,w.a.post(T,c,{headers:r});case 17:return o=e.sent,u=o.data.choices[0].message.content,e.abrupt("return",u);case 22:return e.abrupt("return","");case 23:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function W(e,t,n,r){return G.apply(this,arguments)}function G(){return(G=Object(l.a)(Object(i.a)().mark((function e(t,n,r,c){var s,a,o,u,l,p,j,b;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s={"content-type":"application/json",Authorization:"Bearer ".concat(c)},a=[{role:"system",content:"\u4f60\u662f\u4e00\u500b\u8a3a\u524d\u554f\u8a3a\u7cfb\u7d71\uff0c\u75c5\u4eba\u6703\u8ddf\u4f60\u8aaa\u4ed6\u76ee\u524d\u7684\u8eab\u9ad4\u72c0\u6cc1\uff0c                                            \u75c5\u4eba\u901a\u5e38\u6703\u8ddf\u4f60\u8b1b\u4ee5\u4e0b\u5e7e\u4ef6\u4e8b\u60c5:\n\n\u767c\u75c5\uff1a\u4ec0\u9ebc\u6642\u5019\u958b\u59cb                                            \u6ce8\u610f\u5230\u6709\u75c7\u72c0\u7522\u751f\uff1f\u8a98\u767c\u539f\u56e0\uff1a\u75c7\u72c0\u958b\u59cb\u51fa\u73fe\u7684\u6642\u9593\u9ede\u9644\u8fd1\uff0c                                            \u75c5\u4eba\u5728\u4ec0\u9ebc\u74b0\u5883\u505a\u4e86\u54ea\u4e9b\u4e8b\u60c5\uff1f\u6027\u8cea\uff1a\u75c7\u72c0\u51fa\u73fe\u6642\u7684\u611f\u89ba\u3001                                            \u75c7\u72c0\u7684\u7279\u5fb5\u75c7\u72c0\u6563\u5e03\uff1a\u51fa\u73fe\u75c7\u72c0\u7684\u90e8\u4f4d\u662f\u5426\u6539\u8b8a\u3001\u6216\u8005\u96a8\u8457                                            \u8eab\u9ad4\u7684\u79fb\u52d5\u800c\u6709\u8b8a\u5316\uff1f\u56b4\u91cd\u7a0b\u5ea6\uff1a\u75c7\u72c0\u4f55\u6642\u6700\u56b4\u91cd\uff1f\u6709\u591a\u56b4\u91cd\uff1f                                            \n\n\u8acb\u4f60\u5229\u7528\u7372\u5f97\u7684\u8a0a\u606f\uff0c\u4f86\u5efa\u7acb\u770b\u8a3a\u76ee\u6a19\uff0c\u53ef\u4ee5\u5f9e\u63d0\u51fa\u958b\u653e\u5f0f                                            \u7684\u554f\u984c\u958b\u59cb\uff0c\u5982\u679c\u4e0a\u8ff0\u95dc\u65bc\u767c\u75c5\u3001\u8a98\u767c\u539f\u56e0\u3001\u6027\u8cea\u3001\u75c7\u72c0\u6563\u5e03\u3001                                            \u56b4\u91cd\u7a0b\u5ea6\u6709\u4e0d\u6e05\u695a\u7684\u5730\u65b9\uff0c\u4e5f\u53ef\u4ee5\u8acb\u75c5\u4eba\u56de\u7b54\uff0c\u7136\u5f8c\u89c0\u5bdf\u75c5\u4eba\u7684                                            \u56de\u8986\uff0c\u4e26\u7528\u7e41\u9ad4\u4e2d\u6587\u7d66\u51fa\u5efa\u8b70\u3002"}],console.log(n),o=0;o<n.length;o++)a.push({role:"user",content:n[o]}),a.push({role:"assistant",content:r[o]});return a.push({role:"user",content:t}),console.log(a),u={messages:a,model:S},e.prev=7,e.next=10,w.a.post(T,u,{headers:s});case 10:return l=e.sent,p=l.data.choices[0].message.content,e.abrupt("return",p);case 15:if(e.prev=15,e.t0=e.catch(7),console.log(e.t0),429!==e.t0.response.status){e.next=26;break}return e.next=21,w.a.post(T,u,{headers:s});case 21:return j=e.sent,b=j.data.choices[0].message.content,e.abrupt("return",b);case 26:return e.abrupt("return","");case 27:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}function I(e,t){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(Object(i.a)().mark((function e(t,n){var r,c,s,a,o,u,l,p;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r={"content-type":"application/json",Authorization:"Bearer ".concat(n)},(c=[{role:"system",content:"\u4f60\u662f\u4e00\u500b\u91cd\u9ede\u6574\u7406\u7cfb\u7d71\uff0c\u75c5\u4eba\u6703\u8ddf\u4f60\u8aaa\u4ed6\u76ee\u524d\u7684\u8eab\u9ad4\u72c0\u6cc1\uff0c                                                \u901a\u5e38\u6703\u5305\u542b\u4ee5\u4e0b 4 \u500b\u9762\u5411:\n\n\u767c\u75c5\u6642\u9593\u3001\u75c7\u72c0\u7684\u8a98\u767c\u539f\u56e0\u3001                                                \u75c7\u72c0\u7684\u6027\u8cea\u3001\u56b4\u91cd\u7a0b\u5ea6 \u3002\u8acb\u4f60\u5229\u7528\u7372\u5f97\u7684\u8a0a\u606f\uff0c\u91dd\u5c0d\u9019\u4e9b\u9762\u5411                                                 \u9032\u884c\u91cd\u9ede\u6574\u7406\uff0c\u6700\u5f8c\u7528\u7e41\u9ad4\u4e2d\u6587\u7d66\u51fa\u7e3d\u7d50\uff08\u4f60\u4e0d\u9700\u8981\u7d66\u51fa\u5efa\u8b70\uff0c                                                \u53ea\u9700\u8981\u5ba2\u89c0\u7684\u7d71\u6574\u91cd\u9ede\u5373\u53ef\uff09\u3002"}]).push({role:"user",content:"\u75c5\u4eba\u7684\u63cf\u8ff0\uff1a"}),s=0;s<t.length;s++)c.push({role:"user",content:t[s]});return console.log(c),a={messages:c,model:S},e.prev=6,e.next=9,w.a.post(T,a,{headers:r});case 9:return o=e.sent,u=o.data.choices[0].message.content,e.abrupt("return",u);case 14:if(e.prev=14,e.t0=e.catch(6),console.log(e.t0),429!==e.t0.response.status){e.next=25;break}return e.next=20,w.a.post(T,a,{headers:r});case 20:return l=e.sent,p=l.data.choices[0].message.content,e.abrupt("return",p);case 25:return e.abrupt("return","");case 26:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}function M(e,t){return J.apply(this,arguments)}function J(){return(J=Object(l.a)(Object(i.a)().mark((function e(t,n){var r,c,s,a,o,u,l,p,j;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r={"content-type":"application/json",Authorization:"Bearer ".concat(n)},(c=[{role:"system",content:"\u6839\u64da\u75c5\u4eba\u7684\u63cf\u8ff0\u53ca\u9580\u8a3a\u6642\u9593\u8868\uff0c\u627e\u51fa\u5c08\u9577\u70ba\u75c5\u4eba\u75c7\u72c0\u7684\u91ab\u751f                                                 \u4e26\u544a\u77e5\u5c0d\u61c9\u7684\u8a3a\u5225\u53ca\u9580\u8a3a\u6642\u9593\u3002\u8acb\u4ee5\u7e41\u9ad4\u4e2d\u6587\u56de\u7b54\u3002"}]).push({role:"user",content:"\u75c5\u4eba\u7684\u63cf\u8ff0\uff1a"}),s=0;s<t.length;s++)c.push({role:"user",content:t[s]});for(c.push({role:"user",content:"\u9580\u8a3a\u6642\u9593\u8868\uff1a"}),a=0;a<N.length;a++)c.push({role:"user",content:N[a]});return console.log(c),o={messages:c,model:S},e.prev=8,e.next=11,w.a.post(T,o,{headers:r});case 11:return u=e.sent,l=u.data.choices[0].message.content,e.abrupt("return",l);case 16:if(e.prev=16,e.t0=e.catch(8),console.log(e.t0),429!==e.t0.response.status){e.next=27;break}return e.next=22,w.a.post(T,o,{headers:r});case 22:return p=e.sent,j=p.data.choices[0].message.content,e.abrupt("return",j);case 27:return e.abrupt("return","");case 28:case"end":return e.stop()}}),e,null,[[8,16]])})))).apply(this,arguments)}var U=function(e){var t=e.apiKey,n=e.hfToken,c=e.setApiKey,s=e.setHfToken,a=Object(r.useState)(!1),b=Object(o.a)(a,2),d=b[0],y=b[1],w=Object(r.useState)([]),k=Object(o.a)(w,2),N=k[0],S=k[1],T=Object(r.useState)([]),C=Object(o.a)(T,2),A=C[0],B=C[1],R=Object(r.useState)([]),z=Object(o.a)(R,2),E=z[0],P=z[1],D=Object(r.useState)([]),G=Object(o.a)(D,2),L=G[0],J=G[1],U=Object(r.useState)(""),V=Object(o.a)(U,2),_=V[0],q=V[1],Q=Object(r.useState)(""),X=Object(o.a)(Q,2),Y=X[0],Z=X[1],$=Object(r.useRef)(),ee=Object(r.useRef)(),te=Object(r.useRef)(),ne=Object(r.useRef)(),re=Object(r.useRef)();function ce(e,t){return se.apply(this,arguments)}function se(){return(se=Object(l.a)(Object(i.a)().mark((function e(r,c){var s,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(c,n);case 2:return s=e.sent,B([].concat(Object(u.a)(A),[s])),e.next=6,K(s,t);case 6:return a=e.sent,P([].concat(Object(u.a)(E),[a])),e.next=10,W(a,E,L,t);case 10:o=e.sent,J([].concat(Object(u.a)(L),[o]));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.current.style.display="none",h(ne),h(re),n=URL.createObjectURL(t),S([].concat(Object(u.a)(N),[n])),B([].concat(Object(u.a)(A),[null])),P([].concat(Object(u.a)(E),[null])),J([].concat(Object(u.a)(L),[null])),e.next=10,ce(n,t);case 10:$.current.style.display="inline",O(ne),O(re);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te.current.style.display="none",$.current.style.display="none",e.next=4,I(E,t);case 4:return n=e.sent,ee.current.style.display="none",q(n),console.log(n),e.next=10,M(E,t);case 10:r=e.sent,Z(r),console.log(r);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){$.current.style.display="none",S([]),B([]),P([]),J([]),q([])};return Object(r.useEffect)((function(){var e=function(){var t=Object(l.a)(Object(i.a)().mark((function t(){var r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(n);case 2:return r=t.sent,console.log(r),!0===r?y(!0):setTimeout(e,8e3),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e(),y(!0)}),[]),Object(f.jsx)("div",{className:"App",style:{marginTop:"30px"},children:0===_.length?d?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"msg-container",children:[N.map((function(e,t){return Object(f.jsx)(m,{audio:N[t],transcription:A[t],translation:E[t],chat:L[t]},t)})),Object(f.jsx)("button",{className:"button-ellipse",ref:$,onClick:oe,style:{display:"none",marginBottom:"40px",marginTop:"40px"},children:"\u751f\u6210\u554f\u8a3a\u5831\u544a"}),Object(f.jsxs)("div",{className:"center",ref:ee,style:{display:"none",paddingBottom:"60px"},children:[Object(f.jsx)("h2",{children:"Wait for report generation"}),Object(f.jsx)(x,{})]})]}),Object(f.jsxs)("div",{ref:te,children:[Object(f.jsx)("div",{className:"bottom-line"}),Object(f.jsxs)("div",{className:"bottom-line-button",children:[Object(f.jsx)("div",{ref:ne,children:Object(f.jsx)(p.a,{onRecordingComplete:ae})}),Object(f.jsx)("button",{className:"circle-button",ref:re,onClick:ie,children:Object(f.jsx)("ion-icon",{name:"trash",style:{fontSize:"17px"}})})]})]})]}):Object(f.jsxs)("div",{className:"center",children:[Object(f.jsx)("h2",{children:"Wait for model loading"}),Object(f.jsx)(x,{})]}):Object(f.jsxs)("div",{className:"msg-page",children:[Object(f.jsx)("h2",{children:"\u554f\u8a3a\u7d00\u9304"}),Object(f.jsx)(j.d,{style:{width:"80%",height:"300px"},fileName:"ChatGPT \u554f\u8a3a\u7d00\u9304.pdf",children:Object(f.jsx)(v,{translations:E,chats:L,summary:_})}),Object(f.jsx)("div",{className:"msg-container",style:{margin:"auto",height:"200px"},children:Object(f.jsx)(g,{clinic:Y})}),Object(f.jsxs)("div",{style:{marginBottom:"60px"},children:[Object(f.jsx)("button",{className:"button-ellipse",onClick:function(){q(""),Z("")},children:"\u7e7c\u7e8c\u554f\u8a3a"}),Object(f.jsx)(j.c,{document:Object(f.jsx)(v,{translations:E,chats:L,summary:_}),fileName:"ChatGPT \u554f\u8a3a\u7d00\u9304.pdf",children:function(e){e.blob,e.url;var t=e.loading;e.error;return t?"":Object(f.jsx)("button",{className:"button-ellipse margin-left",children:"\u4e0b\u8f09\u554f\u8a3a\u7d00\u9304"})}}),Object(f.jsx)("button",{className:"button-ellipse margin-left",onClick:function(){ie(),s(""),c("")},children:"\u7d50\u675f\u554f\u8a3a"})]})]})})},V=function(e){var t=e.setApiKey,n=e.setHfToken,c=Object(r.useRef)(),s=Object(r.useRef)(),a=Object(r.useRef)(),o=Object(r.useRef)(),u=Object(r.useRef)(),p=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var r,l,p,j;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=s.current.value,l=c.current.value,0!==r.length&&0!==l.length){e.next=10;break}return a.current.style.display="inline",o.current.style.display="none",u.current.style.display="none",e.abrupt("return");case 10:a.current.style.display="none";case 11:return e.next=13,B(r);case 13:return p=e.sent,e.next=16,z(l);case 16:j=e.sent,!0===p&&!0===j?(t(r),n(l),o.current.style.display="none",u.current.style.display="none"):(o.current.style.display=!1===p?"inline":"none",u.current.style.display=!1===j?"inline":"none"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Enter"===t.key&&p();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"App ask-key-container",children:[Object(f.jsx)("h2",{children:"\u8a3a\u524d\u554f\u8a3a\u7cfb\u7d71"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"ask-key-component",children:[Object(f.jsxs)("span",{children:["OpenAI Api Key : \xa0 \u2003\xa0",Object(f.jsx)("input",{type:"text",onKeyDown:j,ref:s})]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsxs)("span",{children:["Huggingface Token : \xa0",Object(f.jsx)("input",{type:"text",onKeyDown:j,ref:c})]})]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:b,children:"\u78ba\u8a8d"}),Object(f.jsxs)("div",{className:"error",ref:a,style:{display:"none"},children:[Object(f.jsx)("h3",{style:{color:"red"},children:"Error!"}),Object(f.jsx)("p",{style:{color:"red"},children:"Please ensure that both two input box are filled"})]}),Object(f.jsxs)("div",{className:"error",ref:o,style:{display:"none"},children:[Object(f.jsx)("h3",{style:{color:"red"},children:"Error!"}),Object(f.jsx)("p",{style:{color:"red"},children:"Please ensure that a correct OpenAI apikey is provided"})]}),Object(f.jsxs)("div",{className:"error",ref:u,style:{display:"none"},children:[Object(f.jsx)("h3",{style:{color:"red"},children:"Error!"}),Object(f.jsx)("p",{style:{color:"red"},children:"Please ensure that a correct huggingface token is provided"})]})]})},_=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"anonymous";Object(r.useEffect)((function(){var r=document.createElement("script");return r.src=e,r.async=n,t&&(r.integrity=t),r.crossOrigin=c,document.body.appendChild(r),function(){document.body.removeChild(r)}}),[e,t,n,c])};var q=function(){_("https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.js");var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),a=Object(o.a)(s,2),i=a[0],u=a[1];return Object(f.jsx)("div",{className:"App",style:{marginTop:"30px"},children:n.length&&i.length?Object(f.jsx)(U,{apiKey:n,hfToken:i,setApiKey:c,setHfToken:u}):Object(f.jsx)(V,{setApiKey:c,setHfToken:u})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,201)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};a.a.createRoot(document.getElementById("root")).render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(q,{})})),Q()},24:function(e,t,n){}},[[198,1,2]]]);
//# sourceMappingURL=main.e071bea5.chunk.js.map